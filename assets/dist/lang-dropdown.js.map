{"version":3,"sources":["lang-dropdown.js"],"names":["System","register","_export","_context","setters","execute","document","addEventListener","Alpine","data","options","dropdown","items","loaded","bootstrap","getOrCreateInstance","this","$el","e","u","$http","get","ajaxUrl","params","buttonClicked","id","type","table","idName","routeName","then","res"],"mappings":"AAAAA,OAAOC,SAAS,IAAI,SAAUC,EAASC,GAGrC,MAAO,CACLC,QAAS,GACTC,QAAS,WAJbC,SAAAC,iBAAA,eAAA,KACAC,OAAAC,KAAA,gBAAAC,IAAA,CACAA,UACAC,SAAA,KACAC,MAAA,GAOUC,QAAQ,EALlBP,OACEE,KAAOC,SAAKK,UAAiBJ,SAAOK,oBAAMC,KAAAC,IAAA,CACxCP,WAAO,GAEPE,EACAC,cAAaK,GAETF,KAAGH,QAKHM,EACDC,MAAAC,IAAAL,KAAAN,QAAAY,QAAA,CACFC,OAAA,CACDC,GAAAA,KAAed,QAAEe,GACXC,KAAKb,KAAMH,QAAEgB,KACfC,MAAAX,KAAAN,QAAAiB,MACFC,OAAAZ,KAAAN,QAAAkB,OAEER,UACAJ,KAAKN,QAAQY,UAEXC,UAAQP,KAAAN,QAAAmB,aACHC,MACCC,IAAFf,KACFW,MAAWI,EAACrB,KAAQiB,KAAlBX,KACFY,QAAY,CAAClB,GACf,KACC,GAEP,EAEJ","file":"lang-dropdown.js","sourcesContent":["/**\n * Part of earth project.\n *\n * @copyright  Copyright (C) 2022 __ORGANIZATION__.\n * @license    __LICENSE__\n */\n\ndocument.addEventListener('alpine:init', () => {\n  Alpine.data('LangDropdown', (options) => ({\n    options,\n    dropdown: null,\n    items: [],\n    loaded: false,\n    \n    init() {\n      this.dropdown = bootstrap.Dropdown.getOrCreateInstance(\n        this.$el,\n        {\n          autoClose: true\n        }\n      );\n    },\n    buttonClicked(e) {\n      if (this.loaded) {\n        return;\n      }\n\n      u.$http.get(\n        this.options.ajaxUrl,\n        {\n          params: {\n            id: this.options.id,\n            type: this.options.type,\n            table: this.options.table,\n            idName: this.options.idName,\n            langField: this.options.langField,\n            routeName: this.options.routeName,\n          }\n        }\n      ).then((res) => {\n        this.items = res.data.data;\n\n        this.loaded = true;\n      });\n    }\n  }))\n});\n\n"]}